{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { Text } from 'react-native-paper';\nimport { useCallback, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { RadioButton } from 'react-native-paper';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction ChapitreSelection(_ref) {\n  var pk = _ref.pk,\n    bible = _ref.bible,\n    livre = _ref.livre,\n    chapitre = _ref.chapitre,\n    setChapitre = _ref.setChapitre;\n  var _useState = useState(chapitre),\n    _useState2 = _slicedToArray(_useState, 2),\n    checked = _useState2[0],\n    setChecked = _useState2[1];\n  if (livre === 'null' || bible == 'null') {\n    return _jsx(Text, {\n      children: \"Can't display\"\n    });\n  }\n  console.log(checked);\n  var chapters = pk.gqlQuerySync(\"{\\n        docSet(id: \\\"\" + bible + \"\\\") {\\n          document(bookCode: \\\"\" + livre + \"\\\") {\\n            cvIndexes {\\n              chapter\\n            }\\n          }\\n        }\\n      }\");\n  var renderItem = useCallback(function (_ref2) {\n    var item = _ref2.item;\n    return item;\n  }, []);\n  var keyExtractor = useCallback(function (item, index) {\n    return \"chap-\" + index;\n  }, []);\n  if (chapters.data.docSet.document != null) {\n    var data = [];\n    chapters.data.docSet.document.cvIndexes.map(function (doc, id) {\n      return data.push(_jsxs(View, {\n        style: {\n          flexDirection: 'column',\n          width: 50\n        },\n        children: [_jsx(Text, {\n          style: {\n            alignSelf: 'center'\n          },\n          children: doc.chapter\n        }), _jsx(RadioButton, {\n          style: {\n            alignSelf: 'center'\n          },\n          value: doc.chapter,\n          status: checked.includes(\"\" + doc.chapter) ? 'checked' : 'unchecked',\n          onPress: function onPress() {\n            if (checked.indexOf(\"\" + doc.chapter) >= 0) {\n              console.log(checked.splice(checked.indexOf(\"\" + doc.chapter), 1));\n              setChecked(checked.splice(checked.indexOf(\"\" + doc.chapter), 1));\n            } else {\n              setChecked([].concat(_toConsumableArray(checked), [\"\" + doc.chapter]));\n            }\n          }\n        })]\n      }, id));\n    });\n    return _jsx(FlatList, {\n      data: data,\n      numColumns: 5,\n      keyExtractor: keyExtractor,\n      renderItem: renderItem\n    });\n  } else {\n    return _jsx(Text, {\n      children: \"Can't display\"\n    });\n  }\n}\nexport { ChapitreSelection };","map":{"version":3,"names":["Text","useCallback","useState","View","FlatList","RadioButton","jsx","_jsx","jsxs","_jsxs","ChapitreSelection","_ref","pk","bible","livre","chapitre","setChapitre","_useState","_useState2","_slicedToArray","checked","setChecked","children","console","log","chapters","gqlQuerySync","renderItem","_ref2","item","keyExtractor","index","data","docSet","document","cvIndexes","map","doc","id","push","style","flexDirection","width","alignSelf","chapter","value","status","includes","onPress","indexOf","splice","concat","_toConsumableArray","numColumns"],"sources":["/home/gabriel/repos/jxt-korennumi/components/proofOfConcept/ChapitreSelection.js"],"sourcesContent":["import { Text } from 'react-native-paper';\nimport { useCallback, useState } from 'react';\n\nimport { View, FlatList } from 'react-native';\nimport { RadioButton } from 'react-native-paper';\n\nfunction ChapitreSelection({ pk, bible, livre, chapitre, setChapitre }) {\n  const [checked, setChecked] = useState(chapitre);\n  if (livre === 'null' || bible == 'null') {\n    return <Text>{`Can't display`}</Text>\n  }\n  console.log(checked)\n  let chapters = pk.gqlQuerySync(\n    `{\n        docSet(id: \"${bible}\") {\n          document(bookCode: \"${livre}\") {\n            cvIndexes {\n              chapter\n            }\n          }\n        }\n      }`);\n\n  const renderItem = useCallback(({ item }) => item, []);\n  const keyExtractor = useCallback((item, index) => `chap-${index}`, []);\n\n\n  if (chapters.data.docSet.document != null) {\n    let data = []   \n    chapters.data.docSet.document.cvIndexes.map((doc, id) =>\n      data.push(\n        <View key={id} style={{ flexDirection: 'column', width: 50 }}>\n          <Text style={{ alignSelf: 'center' }}>{doc.chapter}</Text>\n          <RadioButton\n            style={{ alignSelf: 'center' }}\n            value={doc.chapter}\n            status={checked.includes(`${doc.chapter}`) ? 'checked' : 'unchecked'}\n            onPress={() => {\n              if(checked.indexOf(`${doc.chapter}`)>=0){\n                console.log(checked.splice(checked.indexOf(`${doc.chapter}`),1))\n                setChecked(checked.splice(checked.indexOf(`${doc.chapter}`),1))\n              }\n              else{\n                setChecked([...checked, `${doc.chapter}`]);\n              }  \n            }} />\n        </View>))\n    return <FlatList\n      data={data}\n      numColumns={5}\n      keyExtractor={keyExtractor}\n      renderItem={renderItem}/>\n  } else {\n    return <Text>{`Can't display`}</Text>\n  }\n}\nexport { ChapitreSelection }\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}