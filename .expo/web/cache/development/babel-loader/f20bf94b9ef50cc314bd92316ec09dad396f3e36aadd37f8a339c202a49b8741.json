{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useState } from 'react';\nimport { ReadingScreen } from \"../used/ReadingScreen\";\nimport ResizableContainer from \"./ResizableContainer\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { debounce } from 'lodash';\nimport { ConfigDrawer } from \"../used/TextConfig/configDrawer\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction createRefsArray(length) {\n  return Array.from({\n    length: length\n  }, function () {\n    return useRef(null);\n  });\n}\nfunction ResizableTab(_ref) {\n  var pk = _ref.pk;\n  var numberText = 2;\n  var flatListRefs = createRefsArray(numberText);\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isUserScroll = _useState2[0],\n    setIsUserScroll = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    scrollLock = _useState4[0],\n    setScrollLock = _useState4[1];\n  var _onScroll = function onScroll(event, currentIndex) {\n    if (scrollLock) return;\n    setScrollLock(true);\n    var offsetX = event.nativeEvent.contentOffset.x;\n    if (isUserScroll) {\n      setIsUserScroll(false);\n      flatListRefs.forEach(function (ref, index) {\n        if (index !== currentIndex) {\n          ref.current.scrollToOffset({\n            offset: offsetX,\n            animated: false\n          });\n        }\n      });\n    } else {\n      setIsUserScroll(true);\n    }\n    setTimeout(function () {\n      return setScrollLock(false);\n    }, 20);\n  };\n  var resizableContainers = Array.from({\n    length: numberText\n  }, function (_, index) {\n    return _jsx(ResizableContainer, {\n      initalHeigth: Dimensions.get('window').height / numberText,\n      children: _jsx(ReadingScreen, {\n        onScroll: function onScroll(event) {\n          return _onScroll(event, index);\n        },\n        flatListRef: flatListRefs[index],\n        pk: pk\n      }, \"reading-screen-\" + index)\n    }, \"resizable-container-\" + index);\n  });\n  return _jsxs(View, {\n    style: {\n      flexDirection: 'row',\n      flex: 1\n    },\n    children: [_jsx(ConfigDrawer, {\n      pk: pk,\n      setBibleParent: setBible,\n      bibleParent: bible,\n      livreParent: livre,\n      setLivreParent: setLivre\n    }), resizableContainers]\n  });\n}\nexport { ResizableTab };","map":{"version":3,"names":["React","useRef","useState","ReadingScreen","ResizableContainer","View","Dimensions","debounce","ConfigDrawer","jsx","_jsx","jsxs","_jsxs","createRefsArray","length","Array","from","ResizableTab","_ref","pk","numberText","flatListRefs","_useState","_useState2","_slicedToArray","isUserScroll","setIsUserScroll","_useState3","_useState4","scrollLock","setScrollLock","onScroll","event","currentIndex","offsetX","nativeEvent","contentOffset","x","forEach","ref","index","current","scrollToOffset","offset","animated","setTimeout","resizableContainers","_","initalHeigth","get","height","children","flatListRef","style","flexDirection","flex","setBibleParent","setBible","bibleParent","bible","livreParent","livre","setLivreParent","setLivre"],"sources":["/home/gabriel/repos/jxt-korennumi/components/used/resizableTab.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { ReadingScreen } from '../used/ReadingScreen';\nimport ResizableContainer from './ResizableContainer';\nimport { View } from 'react-native';\nimport { Dimensions } from 'react-native';\nimport { debounce } from 'lodash';\nimport { ConfigDrawer } from '../used/TextConfig/configDrawer'\nfunction createRefsArray(length) {\n  return Array.from({ length }, () => useRef(null));\n}\nfunction ResizableTab({ pk }) {\n  const numberText = 2;\n  const flatListRefs = createRefsArray(numberText);\n  const [isUserScroll, setIsUserScroll] = useState(true);\n  const [scrollLock, setScrollLock] = useState(false);\n\n  const onScroll = (event, currentIndex) => {\n    if (scrollLock) return;\n\n    setScrollLock(true);\n    const offsetX = event.nativeEvent.contentOffset.x;\n\n    if (isUserScroll) {\n      setIsUserScroll(false);\n      flatListRefs.forEach((ref, index) => {\n        if (index !== currentIndex) {\n          ref.current.scrollToOffset({ offset: offsetX, animated: false });\n        }\n      });\n    } else {\n      setIsUserScroll(true);\n    }\n\n    setTimeout(() => setScrollLock(false), 20); // Release the lock after 100ms\n  };\n\n\n\n\n  const resizableContainers = Array.from({ length: numberText }, (_, index) => (\n\n    <ResizableContainer\n      key={`resizable-container-${index}`}\n      initalHeigth={Dimensions.get('window').height / numberText}\n    >\n      <ReadingScreen\n        key={`reading-screen-${index}`}\n        onScroll={(event) => onScroll(event, index)}\n        flatListRef={flatListRefs[index]}\n        pk={pk}\n      />\n    </ResizableContainer>\n  ));\n\n  return <View style={{ flexDirection: 'row', flex: 1 }}>\n    <ConfigDrawer pk={pk} setBibleParent={setBible} bibleParent={bible} livreParent={livre} setLivreParent={setLivre} />\n    {resizableContainers}</View>;\n}\n\nexport { ResizableTab };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}