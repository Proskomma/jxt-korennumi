{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { useDocumentQuery, useRenderDocument } from \"../../customHooks/RendererHooks\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction ReadingScreen(_ref) {\n  var livre = _ref.livre,\n    bible = _ref.bible,\n    pk = _ref.pk;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var documentResult = useDocumentQuery(livre, bible, pk);\n  var output = useRenderDocument(documentResult, pk, setData);\n  setData(output.slice(0, 10));\n  var renderItem = useCallback(function (_ref2) {\n    var item = _ref2.item;\n    return item;\n  }, []);\n  var keyExtractor = useCallback(function (item, index) {\n    return \"para-\" + index + \"-\" + item + \"-\" + livre + \"-\" + bible;\n  }, [livre, bible]);\n  var loadMoreItems = useCallback(function () {\n    setData([].concat(_toConsumableArray(data), _toConsumableArray(output.paras.slice(data.length, data.length + 4))));\n  });\n  console.log(data);\n  return _jsx(View, {\n    style: {\n      flex: 1\n    },\n    children: _jsx(FlatList, {\n      style: {\n        height: '100%',\n        width: '100%'\n      },\n      removeClippedSubviews: true,\n      data: data,\n      renderItem: renderItem,\n      keyExtractor: keyExtractor,\n      onEndReached: loadMoreItems,\n      scrollEventThrottle: 16,\n      onEndReachedThreshold: 0.8\n    })\n  });\n}\nexport { ReadingScreen };","map":{"version":3,"names":["React","useState","useCallback","useEffect","useDocumentQuery","useRenderDocument","jsx","_jsx","ReadingScreen","_ref","livre","bible","pk","_useState","_useState2","_slicedToArray","data","setData","documentResult","output","slice","renderItem","_ref2","item","keyExtractor","index","loadMoreItems","concat","_toConsumableArray","paras","length","console","log","View","style","flex","children","FlatList","height","width","removeClippedSubviews","onEndReached","scrollEventThrottle","onEndReachedThreshold"],"sources":["/home/gabriel/repos/jxt-korennumi/components/used/ReadingScreen.js"],"sourcesContent":["import { View, FlatList } from 'react-native';\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { useDocumentQuery, useRenderDocument } from '../../customHooks/RendererHooks';\nfunction ReadingScreen({ livre, bible, pk }) {\n\n  const [data, setData] = useState([])\n\n  const documentResult = useDocumentQuery(livre, bible, pk)\n  const output = useRenderDocument(documentResult, pk, setData)\n  setData(output.slice(0, 10))\n  const renderItem = useCallback(({ item }) => item, []);\n  const keyExtractor = useCallback((item, index) => `para-${index}-${item}-${livre}-${bible}`, [livre, bible]);\n  const loadMoreItems = useCallback(() => {\n\n    setData([...data, ...output.paras.slice(data.length, data.length + 4)])\n  })\n  console.log(data)\n  return (\n    <View style={{ flex: 1 }}>\n      <FlatList\n        style={{ height: '100%', width: '100%' }}\n        removeClippedSubviews={true}\n        data={data}\n        renderItem={renderItem}\n        keyExtractor={keyExtractor}\n        //ref={flatListRef}\n        onEndReached={loadMoreItems}\n        scrollEventThrottle={16} // Add scrollEventThrottle for better performance\n        onEndReachedThreshold={0.8} // Tr igger loadMoreItems when the user reaches 50% from the end\n      />\n    </View>\n  );\n}\n\nexport { ReadingScreen }\n\n"],"mappings":";;;;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AAC/D,SAASC,gBAAgB,EAAEC,iBAAiB;AAA0C,SAAAC,GAAA,IAAAC,IAAA;AACtF,SAASC,aAAaA,CAAAC,IAAA,EAAuB;EAAA,IAApBC,KAAK,GAAAD,IAAA,CAALC,KAAK;IAAEC,KAAK,GAAAF,IAAA,CAALE,KAAK;IAAEC,EAAE,GAAAH,IAAA,CAAFG,EAAE;EAEvC,IAAAC,SAAA,GAAwBZ,QAAQ,CAAC,EAAE,CAAC;IAAAa,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA7BG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAEpB,IAAMI,cAAc,GAAGd,gBAAgB,CAACM,KAAK,EAAEC,KAAK,EAAEC,EAAE,CAAC;EACzD,IAAMO,MAAM,GAAGd,iBAAiB,CAACa,cAAc,EAAEN,EAAE,EAAEK,OAAO,CAAC;EAC7DA,OAAO,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;EAC5B,IAAMC,UAAU,GAAGnB,WAAW,CAAC,UAAAoB,KAAA;IAAA,IAAGC,IAAI,GAAAD,KAAA,CAAJC,IAAI;IAAA,OAAOA,IAAI;EAAA,GAAE,EAAE,CAAC;EACtD,IAAMC,YAAY,GAAGtB,WAAW,CAAC,UAACqB,IAAI,EAAEE,KAAK;IAAA,iBAAaA,KAAK,SAAIF,IAAI,SAAIb,KAAK,SAAIC,KAAK;EAAA,CAAE,EAAE,CAACD,KAAK,EAAEC,KAAK,CAAC,CAAC;EAC5G,IAAMe,aAAa,GAAGxB,WAAW,CAAC,YAAM;IAEtCe,OAAO,IAAAU,MAAA,CAAAC,kBAAA,CAAKZ,IAAI,GAAAY,kBAAA,CAAKT,MAAM,CAACU,KAAK,CAACT,KAAK,CAACJ,IAAI,CAACc,MAAM,EAAEd,IAAI,CAACc,MAAM,GAAG,CAAC,CAAC,GAAE;EACzE,CAAC,CAAC;EACFC,OAAO,CAACC,GAAG,CAAChB,IAAI,CAAC;EACjB,OACET,IAAA,CAAC0B,IAAI;IAACC,KAAK,EAAE;MAAEC,IAAI,EAAE;IAAE,CAAE;IAAAC,QAAA,EACvB7B,IAAA,CAAC8B,QAAQ;MACPH,KAAK,EAAE;QAAEI,MAAM,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAO,CAAE;MACzCC,qBAAqB,EAAE,IAAK;MAC5BxB,IAAI,EAAEA,IAAK;MACXK,UAAU,EAAEA,UAAW;MACvBG,YAAY,EAAEA,YAAa;MAE3BiB,YAAY,EAAEf,aAAc;MAC5BgB,mBAAmB,EAAE,EAAG;MACxBC,qBAAqB,EAAE;IAAI;EAC3B,EACG;AAEX;AAEA,SAASnC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}