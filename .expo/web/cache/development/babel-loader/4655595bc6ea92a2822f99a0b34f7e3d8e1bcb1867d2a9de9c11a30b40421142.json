{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useRef, useState } from 'react';\nimport { ReadingScreen } from \"../used/ReadingScreen\";\nimport ResizableContainer from \"./ResizableContainer\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ConfigDrawer from \"./TextConfig/configDrawer\";\nimport { Button } from 'react-native-paper';\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction createRefsArray(length) {\n  return Array.from({\n    length: length\n  }, function () {\n    return useRef(null);\n  });\n}\nfunction ResizableTab(_ref) {\n  var pk = _ref.pk;\n  var pan = useRef(new Animated.ValueXY()).current;\n  var panResponder = PanResponder.create({\n    onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n      return true;\n    },\n    onPanResponderMove: Animated.event([null, {\n      dx: pan.x\n    }], {\n      useNativeDriver: false,\n      listener: function listener(event) {\n        pan.setValue({\n          x: pan.x._value,\n          y: 0\n        });\n      }\n    }),\n    onPanResponderEnd: function onPanResponderEnd() {\n      setWidth(width + pan.x._value);\n      pan.setValue({\n        x: 0,\n        y: 0\n      });\n    }\n  });\n  console.log(\"resiTab\");\n  var numberText = 2;\n  var arrayHooks = [];\n  var flatListRefs = createRefsArray(numberText);\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isUserScroll = _useState2[0],\n    setIsUserScroll = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    scrollLock = _useState4[0],\n    setScrollLock = _useState4[1];\n  var onScroll = function onScroll(event, currentIndex) {\n    if (scrollLock) return;\n    setScrollLock(true);\n    var offsetX = event.nativeEvent.contentOffset.x;\n    if (isUserScroll) {\n      setIsUserScroll(false);\n      flatListRefs.forEach(function (ref, index) {\n        if (index !== currentIndex) {\n          ref.current.scrollToOffset({\n            offset: offsetX,\n            animated: false\n          });\n        }\n      });\n    } else {\n      setIsUserScroll(true);\n    }\n    setTimeout(function () {\n      return setScrollLock(false);\n    }, 20);\n  };\n  var resizableContainers = Array.from({\n    length: numberText\n  }, function (_, index) {\n    var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isActive = _useState6[0],\n      setIsActive = _useState6[1];\n    var _useState7 = useState('local_test_1'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      bible = _useState8[0],\n      setBible = _useState8[1];\n    var _useState9 = useState('GEN'),\n      _useState10 = _slicedToArray(_useState9, 2),\n      livre = _useState10[0],\n      setLivre = _useState10[1];\n    console.log(Dimensions.get('window').width * (1 / numberText));\n    arrayHooks.push([isActive, setIsActive, bible, setBible, livre, setLivre]);\n    return _jsxs(View, {\n      children: [_jsx(View, {\n        style: [{\n          position: 'absolute'\n        }, {\n          zIndex: 3\n        }],\n        children: _jsx(Button, {\n          style: {\n            position: 'absolute'\n          },\n          icon: function icon() {\n            return _jsx(Icon, {\n              name: \"gear\",\n              size: 20,\n              color: \"blue\"\n            });\n          },\n          onPress: function onPress() {\n            return setIsActive(true);\n          }\n        }, Math.random())\n      }), _jsx(ReadingScreen, {\n        flatListRef: flatListRefs[index],\n        pk: pk,\n        livre: livre,\n        bible: bible\n      }, \"reading-screen-\" + index)]\n    });\n  });\n  return _jsx(View, {\n    style: {\n      flex: 1\n    },\n    children: _jsxs(View, {\n      style: {\n        flexDirection: 'row',\n        flex: 1,\n        alignContent: 'space-between'\n      },\n      children: [resizableContainers.map(function (elem, id) {\n        return id !== numberText - 1 ? _jsx(Animated.View, _objectSpread(_objectSpread({}, panResponder.panHandlers), {}, {\n          style: [pan.getLayout(), styles.box]\n        })) : elem;\n      }), arrayHooks.map(function (elem) {\n        return _jsx(ConfigDrawer, {\n          pk: pk,\n          setIsActive: elem[1],\n          isActive: elem[0],\n          setBibleParent: elem[3],\n          bibleParent: elem[2],\n          livreParent: elem[4],\n          setLivreParent: elem[5]\n        }, Math.random());\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  box2: {\n    backgroundColor: 'red',\n    height: '100%',\n    width: 15,\n    position: 'absolute',\n    left: '100%'\n  },\n  box: {\n    backgroundColor: '#61dafb',\n    height: '100%',\n    width: 15\n  }\n});\nexport { ResizableTab };","map":{"version":3,"names":["React","useRef","useState","ReadingScreen","ResizableContainer","View","Dimensions","ConfigDrawer","Button","Icon","StyleSheet","PanResponder","Animated","jsx","_jsx","jsxs","_jsxs","createRefsArray","length","Array","from","ResizableTab","_ref","pk","pan","ValueXY","current","panResponder","create","onStartShouldSetPanResponder","onPanResponderMove","event","dx","x","useNativeDriver","listener","setValue","_value","y","onPanResponderEnd","setWidth","width","console","log","numberText","arrayHooks","flatListRefs","_useState","_useState2","_slicedToArray","isUserScroll","setIsUserScroll","_useState3","_useState4","scrollLock","setScrollLock","onScroll","currentIndex","offsetX","nativeEvent","contentOffset","forEach","ref","index","scrollToOffset","offset","animated","setTimeout","resizableContainers","_","_useState5","_useState6","isActive","setIsActive","_useState7","_useState8","bible","setBible","_useState9","_useState10","livre","setLivre","get","push","children","style","position","zIndex","icon","name","size","color","onPress","Math","random","flatListRef","flex","flexDirection","alignContent","map","elem","id","_objectSpread","panHandlers","getLayout","styles","box","setBibleParent","bibleParent","livreParent","setLivreParent","box2","backgroundColor","height","left"],"sources":["/home/gabriel/repos/jxt-korennumi/components/used/resizableTab.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { ReadingScreen } from '../used/ReadingScreen';\nimport ResizableContainer from './ResizableContainer';\nimport { View } from 'react-native';\nimport { Dimensions } from 'react-native';\nimport ConfigDrawer from './TextConfig/configDrawer'\nimport { Button } from 'react-native-paper';\nimport Icon from 'react-native-vector-icons/FontAwesome';\nimport { StyleSheet, PanResponder, Animated } from 'react-native';\n\n\nfunction createRefsArray(length) {\n  return Array.from({ length }, () => useRef(null));\n}\nfunction ResizableTab({ pk }) {\n  const pan = useRef(new Animated.ValueXY()).current;\n\n  const panResponder = PanResponder.create({\n    onStartShouldSetPanResponder: () => true,\n\n    onPanResponderMove: Animated.event([null, { dx: pan.x }], {\n      useNativeDriver: false,\n      listener: (event) => {\n        pan.setValue({ x: pan.x._value, y: 0 })\n      }\n    }),\n    onPanResponderEnd: () => {\n      setWidth(width + pan.x._value)\n\n      pan.setValue({ x: 0, y: 0 })\n    }\n  });\n\n  console.log(\"resiTab\")\n  const numberText = 2;\n  const arrayHooks = [];\n  const flatListRefs = createRefsArray(numberText);\n  const [isUserScroll, setIsUserScroll] = useState(true);\n  const [scrollLock, setScrollLock] = useState(false);\n\n  const onScroll = (event, currentIndex) => {\n    if (scrollLock) return;\n\n    setScrollLock(true);\n    const offsetX = event.nativeEvent.contentOffset.x;\n\n\n    if (isUserScroll) {\n      setIsUserScroll(false);\n      flatListRefs.forEach((ref, index) => {\n        if (index !== currentIndex) {\n          ref.current.scrollToOffset({ offset: offsetX, animated: false });\n        }\n      });\n    } else {\n      setIsUserScroll(true);\n    }\n\n    setTimeout(() => setScrollLock(false), 20); // Release the lock after 100ms\n  };\n\n\n\n\n  const resizableContainers = Array.from({ length: numberText }, (_, index) => {\n\n    const [isActive, setIsActive] = useState(false)\n    const [bible, setBible] = useState('local_test_1')\n    const [livre, setLivre] = useState('GEN')\n    console.log(Dimensions.get('window').width * (1 / numberText))\n    arrayHooks.push([isActive, setIsActive, bible, setBible, livre, setLivre])\n    return (\n      <View>\n        <View style={[{ position: 'absolute' }, { zIndex: 3 }]}>\n          <Button key={Math.random()} style={{ position: 'absolute' }}\n            icon={() => <Icon name=\"gear\" size={20} color=\"blue\" />\n            }\n            onPress={() => setIsActive(true)} />\n        </View>\n        <ReadingScreen\n          key={`reading-screen-${index}`}\n          flatListRef={flatListRefs[index]}\n          pk={pk}\n          livre={livre}\n          bible={bible}\n        />\n      </View >\n\n    )\n  });\n\n  return <View style={{ flex: 1 }}>\n    <View style={{\n      flexDirection: 'row', flex: 1, alignContent: 'space-between',\n    }}>\n\n      {resizableContainers.map((elem, id) => (\n        id !== numberText - 1 ?\n\n          < Animated.View\n            {...panResponder.panHandlers}\n            style={[pan.getLayout(), styles.box]}\n          /> : elem))}\n\n      {arrayHooks.map(elem => {\n        return (<ConfigDrawer key={Math.random()} pk={pk} setIsActive={elem[1]} isActive={elem[0]} setBibleParent={elem[3]} bibleParent={elem[2]} livreParent={elem[4]} setLivreParent={elem[5]} />)\n      })}\n    </View>\n  </View >;\n}\n\nconst styles = StyleSheet.create({\n  box2: {\n    backgroundColor: 'red',\n    height: '100%',\n    width: 15,\n    position: 'absolute',\n    left: '100%'\n\n  },\n  box: {\n    backgroundColor: '#61dafb',\n    height: '100%',\n    width: 15,\n  },\n});\nexport { ResizableTab };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}