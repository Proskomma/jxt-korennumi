{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useState } from 'react';\nimport { ReadingScreen } from \"../used/ReadingScreen\";\nimport ResizableContainer from \"./ResizableContainer\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { debounce } from 'lodash';\nimport ConfigDrawer from \"./TextConfig/configDrawer\";\nimport { absoluteFill } from 'react-native-extended-stylesheet';\nimport { Modal, Text, Button } from 'react-native-paper';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction createRefsArray(length) {\n  return Array.from({\n    length: length\n  }, function () {\n    return useRef(null);\n  });\n}\nfunction ResizableTab(_ref) {\n  var pk = _ref.pk;\n  var numberText = 1;\n  var arrayHooks = [];\n  var flatListRefs = createRefsArray(numberText);\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isUserScroll = _useState2[0],\n    setIsUserScroll = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    scrollLock = _useState4[0],\n    setScrollLock = _useState4[1];\n  var _useState5 = useState('local_test_1'),\n    _useState6 = _slicedToArray(_useState5, 2),\n    bible = _useState6[0],\n    setBible = _useState6[1];\n  var _useState7 = useState('GEN'),\n    _useState8 = _slicedToArray(_useState7, 2),\n    livre = _useState8[0],\n    setLivre = _useState8[1];\n  var _onScroll = function onScroll(event, currentIndex) {\n    if (scrollLock) return;\n    setScrollLock(true);\n    var offsetX = event.nativeEvent.contentOffset.x;\n    var handleConfigDrawerPress = function handleConfigDrawerPress(index) {\n      var setActive = arrayHooks[index];\n      setActive(true);\n    };\n    if (isUserScroll) {\n      setIsUserScroll(false);\n      flatListRefs.forEach(function (ref, index) {\n        if (index !== currentIndex) {\n          ref.current.scrollToOffset({\n            offset: offsetX,\n            animated: false\n          });\n        }\n      });\n    } else {\n      setIsUserScroll(true);\n    }\n    setTimeout(function () {\n      return setScrollLock(false);\n    }, 20);\n  };\n  var resizableContainers = Array.from({\n    length: numberText\n  }, function (_, index) {\n    var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      isActive = _useState10[0],\n      setIsActive = _useState10[1];\n    arrayHooks.push([isActive, setIsActive]);\n    console.log(arrayHooks);\n    return _jsxs(ResizableContainer, {\n      initalHeigth: Dimensions.get('window').height / numberText,\n      children: [_jsx(View, {\n        style: StyleSheet.absoluteFill,\n        children: _jsx(Button, {\n          style: {\n            position: 'absolute'\n          },\n          icon: function icon() {\n            return _jsx(Icon, {\n              name: \"gear\",\n              size: 20,\n              color: \"blue\"\n            });\n          },\n          onPress: handleConfigDrawerPress(index)\n        })\n      }), _jsx(ReadingScreen, {\n        onScroll: function onScroll(event) {\n          return _onScroll(event, index);\n        },\n        flatListRef: flatListRefs[index],\n        pk: pk,\n        livre: livre,\n        bible: bible\n      }, \"reading-screen-\" + index)]\n    }, \"resizable-container-\" + index);\n  });\n  return _jsx(View, {\n    style: {\n      flex: 1\n    },\n    children: _jsxs(View, {\n      style: {\n        flexDirection: 'row',\n        flex: 1\n      },\n      children: [_jsx(ConfigDrawer, {\n        pk: pk,\n        isActive: true,\n        setBibleParent: setBible,\n        bibleParent: bible,\n        livreParent: livre,\n        setLivreParent: setLivre\n      }), resizableContainers]\n    })\n  });\n}\nexport { ResizableTab };","map":{"version":3,"names":["React","useRef","useState","ReadingScreen","ResizableContainer","View","Dimensions","debounce","ConfigDrawer","absoluteFill","Modal","Text","Button","jsx","_jsx","jsxs","_jsxs","createRefsArray","length","Array","from","ResizableTab","_ref","pk","numberText","arrayHooks","flatListRefs","_useState","_useState2","_slicedToArray","isUserScroll","setIsUserScroll","_useState3","_useState4","scrollLock","setScrollLock","_useState5","_useState6","bible","setBible","_useState7","_useState8","livre","setLivre","onScroll","event","currentIndex","offsetX","nativeEvent","contentOffset","x","handleConfigDrawerPress","index","setActive","forEach","ref","current","scrollToOffset","offset","animated","setTimeout","resizableContainers","_","_useState9","_useState10","isActive","setIsActive","push","console","log","initalHeigth","get","height","children","style","StyleSheet","position","icon","Icon","name","size","color","onPress","flatListRef","flex","flexDirection","setBibleParent","bibleParent","livreParent","setLivreParent"],"sources":["/home/gabriel/repos/jxt-korennumi/components/used/resizableTab.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { ReadingScreen } from '../used/ReadingScreen';\nimport ResizableContainer from './ResizableContainer';\nimport { View } from 'react-native';\nimport { Dimensions } from 'react-native';\nimport { debounce } from 'lodash';\nimport ConfigDrawer from './TextConfig/configDrawer'\nimport { absoluteFill } from 'react-native-extended-stylesheet';\nimport { Modal, Text, Button } from 'react-native-paper';\n\nfunction createRefsArray(length) {\n  return Array.from({ length }, () => useRef(null));\n}\nfunction ResizableTab({ pk }) {\n  const numberText = 1;\n  const arrayHooks = [];\n  const flatListRefs = createRefsArray(numberText);\n  const [isUserScroll, setIsUserScroll] = useState(true);\n  const [scrollLock, setScrollLock] = useState(false);\n  const [bible, setBible] = useState('local_test_1')\n  const [livre, setLivre] = useState('GEN')\n\n  const onScroll = (event, currentIndex) => {\n    if (scrollLock) return;\n\n    setScrollLock(true);\n    const offsetX = event.nativeEvent.contentOffset.x;\n\n    const handleConfigDrawerPress = (index) => {\n      const setActive = arrayHooks[index];\n      setActive(true)\n    };\n    if (isUserScroll) {\n      setIsUserScroll(false);\n      flatListRefs.forEach((ref, index) => {\n        if (index !== currentIndex) {\n          ref.current.scrollToOffset({ offset: offsetX, animated: false });\n        }\n      });\n    } else {\n      setIsUserScroll(true);\n    }\n\n    setTimeout(() => setScrollLock(false), 20); // Release the lock after 100ms\n  };\n\n\n\n\n  const resizableContainers = Array.from({ length: numberText }, (_, index) => {\n    const [isActive, setIsActive] = useState(false)\n    arrayHooks.push([isActive, setIsActive])\n    console.log(arrayHooks)\n    return (\n      <ResizableContainer\n        key={`resizable-container-${index}`}\n        initalHeigth={Dimensions.get('window').height / numberText}\n      >\n        <View style={StyleSheet.absoluteFill}>\n          <Button style={{ position: 'absolute' }}\n            icon={() => <Icon name=\"gear\" size={20} color=\"blue\" />\n            }\n            onPress={handleConfigDrawerPress(index)} />\n        </View>\n\n        <ReadingScreen\n          key={`reading-screen-${index}`}\n          onScroll={(event) => onScroll(event, index)}\n          flatListRef={flatListRefs[index]}\n          pk={pk}\n          livre={livre}\n          bible={bible}\n        />\n      </ResizableContainer>\n\n    )\n  });\n\n  return <View style={{ flex: 1 }}>\n    <View style={{ flexDirection: 'row', flex: 1 }}>\n      <ConfigDrawer pk={pk} isActive={true} setBibleParent={setBible} bibleParent={bible} livreParent={livre} setLivreParent={setLivre} />\n      {resizableContainers}\n    </View>\n  </View>;\n}\n\nexport { ResizableTab };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}