{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useState } from 'react';\nimport { ReadingScreen } from \"../used/ReadingScreen\";\nimport ResizableContainer from \"./ResizableContainer\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { debounce } from 'lodash';\nimport ConfigDrawer from \"./TextConfig/configDrawer\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction createRefsArray(length) {\n  return Array.from({\n    length: length\n  }, function () {\n    return useRef(null);\n  });\n}\nfunction ResizableTab(_ref) {\n  var pk = _ref.pk;\n  var numberText = 1;\n  var flatListRefs = createRefsArray(numberText);\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isUserScroll = _useState2[0],\n    setIsUserScroll = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    scrollLock = _useState4[0],\n    setScrollLock = _useState4[1];\n  var _useState5 = useState('local_test_1'),\n    _useState6 = _slicedToArray(_useState5, 2),\n    bible = _useState6[0],\n    setBible = _useState6[1];\n  var _useState7 = useState('GEN'),\n    _useState8 = _slicedToArray(_useState7, 2),\n    livre = _useState8[0],\n    setLivre = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    activeConfigDrawer = _useState10[0],\n    setActiveConfigDrawer = _useState10[1];\n  var _onScroll = function onScroll(event, currentIndex) {\n    if (scrollLock) return;\n    setScrollLock(true);\n    var offsetX = event.nativeEvent.contentOffset.x;\n    if (isUserScroll) {\n      setIsUserScroll(false);\n      flatListRefs.forEach(function (ref, index) {\n        if (index !== currentIndex) {\n          ref.current.scrollToOffset({\n            offset: offsetX,\n            animated: false\n          });\n        }\n      });\n    } else {\n      setIsUserScroll(true);\n    }\n    setTimeout(function () {\n      return setScrollLock(false);\n    }, 20);\n  };\n  var handleConfigDrawerPress = function handleConfigDrawerPress(index) {\n    setActiveConfigDrawer(index);\n  };\n  var resizableContainers = Array.from({\n    length: numberText\n  }, function (_, index) {\n    return _jsxs(ResizableContainer, {\n      initalHeigth: Dimensions.get('window').height / numberText,\n      children: [activeConfigDrawer === index && _jsx(ConfigDrawer, {\n        pk: pk,\n        setBibleParent: setBible,\n        bibleParent: bible,\n        livreParent: livre,\n        setLivreParent: setLivre,\n        isActive: true\n      }), _jsx(ReadingScreen, {\n        onScroll: function onScroll(event) {\n          return _onScroll(event, index);\n        },\n        flatListRef: flatListRefs[index],\n        pk: pk,\n        livre: livre,\n        bible: bible\n      }, \"reading-screen-\" + index), _jsx(TouchableOpacity, {\n        style: styles.configButton,\n        onPress: function onPress() {\n          return handleConfigDrawerPress(index);\n        },\n        children: _jsx(Text, {\n          children: \"Config\"\n        })\n      })]\n    }, \"resizable-container-\" + index);\n  });\n  return _jsx(View, {\n    style: {\n      flex: 1\n    },\n    children: _jsx(View, {\n      style: {\n        flexDirection: 'row',\n        flex: 1\n      },\n      children: resizableContainers\n    })\n  });\n}\nexport { ResizableTab };","map":{"version":3,"names":["React","useRef","useState","ReadingScreen","ResizableContainer","View","Dimensions","debounce","ConfigDrawer","jsx","_jsx","jsxs","_jsxs","createRefsArray","length","Array","from","ResizableTab","_ref","pk","numberText","flatListRefs","_useState","_useState2","_slicedToArray","isUserScroll","setIsUserScroll","_useState3","_useState4","scrollLock","setScrollLock","_useState5","_useState6","bible","setBible","_useState7","_useState8","livre","setLivre","_useState9","_useState10","activeConfigDrawer","setActiveConfigDrawer","onScroll","event","currentIndex","offsetX","nativeEvent","contentOffset","x","forEach","ref","index","current","scrollToOffset","offset","animated","setTimeout","handleConfigDrawerPress","resizableContainers","_","initalHeigth","get","height","children","setBibleParent","bibleParent","livreParent","setLivreParent","isActive","flatListRef","TouchableOpacity","style","styles","configButton","onPress","Text","flex","flexDirection"],"sources":["/home/gabriel/repos/jxt-korennumi/components/used/TextConfig/configDrawer.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { ReadingScreen } from '../used/ReadingScreen';\nimport ResizableContainer from './ResizableContainer';\nimport { View } from 'react-native';\nimport { Dimensions } from 'react-native';\nimport { debounce } from 'lodash';\nimport ConfigDrawer from './TextConfig/configDrawer';\n\nfunction createRefsArray(length) {\n    return Array.from({ length }, () => useRef(null));\n}\n\nfunction ResizableTab({ pk }) {\n    const numberText = 1;\n    const flatListRefs = createRefsArray(numberText);\n    const [isUserScroll, setIsUserScroll] = useState(true);\n    const [scrollLock, setScrollLock] = useState(false);\n    const [bible, setBible] = useState('local_test_1');\n    const [livre, setLivre] = useState('GEN');\n    const [activeConfigDrawer, setActiveConfigDrawer] = useState(null);\n\n    const onScroll = (event, currentIndex) => {\n        if (scrollLock) return;\n\n        setScrollLock(true);\n        const offsetX = event.nativeEvent.contentOffset.x;\n\n        if (isUserScroll) {\n            setIsUserScroll(false);\n            flatListRefs.forEach((ref, index) => {\n                if (index !== currentIndex) {\n                    ref.current.scrollToOffset({ offset: offsetX, animated: false });\n                }\n            });\n        } else {\n            setIsUserScroll(true);\n        }\n\n        setTimeout(() => setScrollLock(false), 20); // Release the lock after 100ms\n    };\n\n    const handleConfigDrawerPress = (index) => {\n        setActiveConfigDrawer(index);\n    };\n\n    const resizableContainers = Array.from({ length: numberText }, (_, index) => (\n        <ResizableContainer\n            key={`resizable-container-${index}`}\n            initalHeigth={Dimensions.get('window').height / numberText}\n        >\n            {activeConfigDrawer === index && (\n                <ConfigDrawer\n                    pk={pk}\n                    setBibleParent={setBible}\n                    bibleParent={bible}\n                    livreParent={livre}\n                    setLivreParent={setLivre}\n                    isActive={true}\n                />\n            )}\n            <ReadingScreen\n                key={`reading-screen-${index}`}\n                onScroll={(event) => onScroll(event, index)}\n                flatListRef={flatListRefs[index]}\n                pk={pk}\n                livre={livre}\n                bible={bible}\n            />\n            <TouchableOpacity\n                style={styles.configButton}\n                onPress={() => handleConfigDrawerPress(index)}\n            >\n                <Text>Config</Text>\n            </TouchableOpacity>\n        </ResizableContainer>\n    ));\n\n    return (\n        <View style={{ flex: 1 }}>\n            <View style={{ flexDirection: 'row', flex: 1 }}>\n                {resizableContainers}\n            </View>\n        </View>\n    );\n}\n\nexport { ResizableTab };\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,SAASC,aAAa;AACtB,OAAOC,kBAAkB;AAA6B,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAGtD,SAASC,QAAQ,QAAQ,QAAQ;AACjC,OAAOC,YAAY;AAAkC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAErD,SAASC,eAAeA,CAACC,MAAM,EAAE;EAC7B,OAAOC,KAAK,CAACC,IAAI,CAAC;IAAEF,MAAM,EAANA;EAAO,CAAC,EAAE;IAAA,OAAMb,MAAM,CAAC,IAAI,CAAC;EAAA,EAAC;AACrD;AAEA,SAASgB,YAAYA,CAAAC,IAAA,EAAS;EAAA,IAANC,EAAE,GAAAD,IAAA,CAAFC,EAAE;EACtB,IAAMC,UAAU,GAAG,CAAC;EACpB,IAAMC,YAAY,GAAGR,eAAe,CAACO,UAAU,CAAC;EAChD,IAAAE,SAAA,GAAwCpB,QAAQ,CAAC,IAAI,CAAC;IAAAqB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/CG,YAAY,GAAAF,UAAA;IAAEG,eAAe,GAAAH,UAAA;EACpC,IAAAI,UAAA,GAAoCzB,QAAQ,CAAC,KAAK,CAAC;IAAA0B,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA5CE,UAAU,GAAAD,UAAA;IAAEE,aAAa,GAAAF,UAAA;EAChC,IAAAG,UAAA,GAA0B7B,QAAQ,CAAC,cAAc,CAAC;IAAA8B,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAA3CE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAAG,UAAA,GAA0BjC,QAAQ,CAAC,KAAK,CAAC;IAAAkC,UAAA,GAAAZ,cAAA,CAAAW,UAAA;IAAlCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAAG,UAAA,GAAoDrC,QAAQ,CAAC,IAAI,CAAC;IAAAsC,WAAA,GAAAhB,cAAA,CAAAe,UAAA;IAA3DE,kBAAkB,GAAAD,WAAA;IAAEE,qBAAqB,GAAAF,WAAA;EAEhD,IAAMG,SAAQ,GAAG,SAAXA,QAAQA,CAAIC,KAAK,EAAEC,YAAY,EAAK;IACtC,IAAIhB,UAAU,EAAE;IAEhBC,aAAa,CAAC,IAAI,CAAC;IACnB,IAAMgB,OAAO,GAAGF,KAAK,CAACG,WAAW,CAACC,aAAa,CAACC,CAAC;IAEjD,IAAIxB,YAAY,EAAE;MACdC,eAAe,CAAC,KAAK,CAAC;MACtBL,YAAY,CAAC6B,OAAO,CAAC,UAACC,GAAG,EAAEC,KAAK,EAAK;QACjC,IAAIA,KAAK,KAAKP,YAAY,EAAE;UACxBM,GAAG,CAACE,OAAO,CAACC,cAAc,CAAC;YAAEC,MAAM,EAAET,OAAO;YAAEU,QAAQ,EAAE;UAAM,CAAC,CAAC;QACpE;MACJ,CAAC,CAAC;IACN,CAAC,MAAM;MACH9B,eAAe,CAAC,IAAI,CAAC;IACzB;IAEA+B,UAAU,CAAC;MAAA,OAAM3B,aAAa,CAAC,KAAK,CAAC;IAAA,GAAE,EAAE,CAAC;EAC9C,CAAC;EAED,IAAM4B,uBAAuB,GAAG,SAA1BA,uBAAuBA,CAAIN,KAAK,EAAK;IACvCV,qBAAqB,CAACU,KAAK,CAAC;EAChC,CAAC;EAED,IAAMO,mBAAmB,GAAG5C,KAAK,CAACC,IAAI,CAAC;IAAEF,MAAM,EAAEM;EAAW,CAAC,EAAE,UAACwC,CAAC,EAAER,KAAK;IAAA,OACpExC,KAAA,CAACR,kBAAkB;MAEfyD,YAAY,EAAEvD,UAAU,CAACwD,GAAG,CAAC,QAAQ,CAAC,CAACC,MAAM,GAAG3C,UAAW;MAAA4C,QAAA,GAE1DvB,kBAAkB,KAAKW,KAAK,IACzB1C,IAAA,CAACF,YAAY;QACTW,EAAE,EAAEA,EAAG;QACP8C,cAAc,EAAE/B,QAAS;QACzBgC,WAAW,EAAEjC,KAAM;QACnBkC,WAAW,EAAE9B,KAAM;QACnB+B,cAAc,EAAE9B,QAAS;QACzB+B,QAAQ,EAAE;MAAK,EAEtB,EACD3D,IAAA,CAACP,aAAa;QAEVwC,QAAQ,EAAE,SAAAA,SAACC,KAAK;UAAA,OAAKD,SAAQ,CAACC,KAAK,EAAEQ,KAAK,CAAC;QAAA,CAAC;QAC5CkB,WAAW,EAAEjD,YAAY,CAAC+B,KAAK,CAAE;QACjCjC,EAAE,EAAEA,EAAG;QACPkB,KAAK,EAAEA,KAAM;QACbJ,KAAK,EAAEA;MAAM,uBALUmB,KAAK,CAM9B,EACF1C,IAAA,CAAC6D,gBAAgB;QACbC,KAAK,EAAEC,MAAM,CAACC,YAAa;QAC3BC,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAMjB,uBAAuB,CAACN,KAAK,CAAC;QAAA,CAAC;QAAAY,QAAA,EAE9CtD,IAAA,CAACkE,IAAI;UAAAZ,QAAA,EAAC;QAAM;MAAO,EACJ;IAAA,4BA1BSZ,KAAK,CA2BhB;EAAA,CACxB,CAAC;EAEF,OACI1C,IAAA,CAACL,IAAI;IAACmE,KAAK,EAAE;MAAEK,IAAI,EAAE;IAAE,CAAE;IAAAb,QAAA,EACrBtD,IAAA,CAACL,IAAI;MAACmE,KAAK,EAAE;QAAEM,aAAa,EAAE,KAAK;QAAED,IAAI,EAAE;MAAE,CAAE;MAAAb,QAAA,EAC1CL;IAAmB;EACjB,EACJ;AAEf;AAEA,SAAS1C,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}