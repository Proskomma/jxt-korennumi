{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { Text } from 'react-native-paper';\nimport { useCallback, useEffect, useState, useRef, useReducer } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { Checkbox } from 'react-native-paper';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var checkboxesReducer = function checkboxesReducer(state, action) {\n  switch (action.type) {\n    case 'toggle':\n      return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, action.id, !state[action.id]));\n    default:\n      throw new Error();\n  }\n};\nfunction ChapitreSelection(_ref) {\n  var pk = _ref.pk,\n    bible = _ref.bible,\n    livre = _ref.livre,\n    dispatch = _ref.dispatch,\n    checkboxes = _ref.checkboxes;\n  var toggleCheckbox = function toggleCheckbox(id) {\n    return dispatch({\n      type: 'toggle',\n      id: id\n    });\n  };\n  if (livre === 'null' || bible == 'null') {\n    return _jsx(Text, {\n      children: \"Can't display\"\n    });\n  }\n  var chapters = pk.gqlQuerySync(\"{\\n        docSet(id: \\\"\" + bible + \"\\\") {\\n          document(bookCode: \\\"\" + livre + \"\\\") {\\n            cvIndexes {\\n              chapter\\n            }\\n          }\\n        }\\n      }\");\n  var renderItem = useCallback(function (_ref2) {\n    var item = _ref2.item;\n    return item;\n  }, []);\n  var keyExtractor = useCallback(function (item, index) {\n    return \"chap-\" + index;\n  }, []);\n  if (chapters.data.docSet.document != null) {\n    var data = [];\n    chapters.data.docSet.document.cvIndexes.map(function (doc, id) {\n      data.push(_jsxs(View, {\n        style: {\n          flexDirection: 'column',\n          width: 50\n        },\n        children: [_jsx(Text, {\n          style: {\n            alignSelf: 'center'\n          },\n          children: id + 1\n        }), _jsx(View, {\n          style: {\n            alignSelf: 'center'\n          },\n          children: _jsx(Checkbox, {\n            status: checkboxes[id] ? 'checked' : 'unchecked',\n            onPress: function onPress() {\n              return toggleCheckbox(id);\n            }\n          }, id)\n        })]\n      }));\n    });\n    return _jsx(FlatList, {\n      data: data,\n      numColumns: 3,\n      keyExtractor: keyExtractor,\n      renderItem: renderItem\n    });\n  } else {\n    return _jsx(Text, {\n      children: \"Can't display\"\n    });\n  }\n}\nexport { ChapitreSelection };","map":{"version":3,"names":["Text","useCallback","useEffect","useState","useRef","useReducer","View","FlatList","Checkbox","jsx","_jsx","jsxs","_jsxs","checkboxesReducer","state","action","type","_objectSpread","_defineProperty","id","Error","ChapitreSelection","_ref","pk","bible","livre","dispatch","checkboxes","toggleCheckbox","children","chapters","gqlQuerySync","renderItem","_ref2","item","keyExtractor","index","data","docSet","document","cvIndexes","map","doc","push","style","flexDirection","width","alignSelf","status","onPress","numColumns"],"sources":["/home/gabriel/repos/jxt-korennumi/components/proofOfConcept/ChapitreSelection.js"],"sourcesContent":["import { Text } from 'react-native-paper';\nimport { useCallback, useEffect, useState, useRef, useReducer } from 'react';\n\nimport { View, FlatList } from 'react-native';\nimport { Checkbox } from 'react-native-paper';\n\n\nexport const checkboxesReducer = (state, action) => {\n  switch (action.type) {\n    case 'toggle':\n      return { ...state, [action.id]: !state[action.id] };\n    default:\n      throw new Error();\n  }\n};\nfunction ChapitreSelection({ pk, bible, livre, dispatch,checkboxes }) {\n  const toggleCheckbox = (id) => dispatch({ type: 'toggle', id });\n\n  if (livre === 'null' || bible == 'null') {\n    return <Text>{`Can't display`}</Text>\n  }\n  let chapters = pk.gqlQuerySync(\n    `{\n        docSet(id: \"${bible}\") {\n          document(bookCode: \"${livre}\") {\n            cvIndexes {\n              chapter\n            }\n          }\n        }\n      }`);\n\n\n\n\n  const renderItem = useCallback(({ item }) => item, []);\n  const keyExtractor = useCallback((item, index) => `chap-${index}`, []);\n\n\n\n\n  if (chapters.data.docSet.document != null) {\n    let data = []\n    chapters.data.docSet.document.cvIndexes.map((doc, id) => {\n      data.push(\n        <View style={{ flexDirection: 'column', width: 50 }}>\n          <Text style={{ alignSelf: 'center' }}>{id + 1}</Text>\n          <View style={{ alignSelf: 'center' }}>\n            <Checkbox\n              key={id}\n              status={checkboxes[id] ? 'checked' : 'unchecked'}\n              onPress={() => toggleCheckbox(id)}\n            />\n          </View>\n        </View>)\n    })\n    return <FlatList\n      data={data}\n      numColumns={3}\n      keyExtractor={keyExtractor}\n      renderItem={renderItem} />\n  } else {\n    return <Text>{`Can't display`}</Text>\n  }\n}\nexport { ChapitreSelection }\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}